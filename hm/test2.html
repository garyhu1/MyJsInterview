<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>面试题小测2(闭包小题)</title>
	</head>

	<body>
	</body>
	<script>
		/*
		 * 依次输出0、1、2、3、4
		 */
//		for(var i = 0; i < 5; i++) {
//			console.log(i);
//		}

        /*
         * 依次输出5、5、5、5、5
         */
//		for(var i = 0; i < 5; i++) {
//			setTimeout(function() {
//				console.log(i);
//			}, 1000 * i);
//		}

        /*
         * 依次输出0、1、2、3、4
         */
//		for(var i = 0; i < 5; i++) {
//			(function(i) {
//				setTimeout(function() {
//					console.log(i);
//				}, i * 1000);
//			})(i);
//		}
		
		/*
		 * 依次输出5、5、5、5、5
		 */
//		for(var i = 0; i < 5; i++) {
//			(function() {
//				setTimeout(function() {
//					console.log(i);
//				}, i * 1000);
//			})(i);
//		}
		
		/*
		 * 依次输出0、1、2、3、4
		 */
//		for(var i = 0; i < 5; i++) {
//			setTimeout((function(i) {
//				console.log(i);
//			})(i), i * 1000);
//		}
		
		/*
		 * 依次输出1、2、5、0、4、3
		 * 理由：栈遵循先进先出原则
		 */
//		setTimeout(function() {
//			console.log(0)
//		}, 0);
//		new Promise(function executor(resolve) {
//			console.log(1);
//			for(var i = 0; i < 10000; i++) {
//				i == 9999 && resolve();
//			}
//			console.log(2);
//		}).then(function() {
//			console.log(3);
//		});
//		setTimeout(function() {
//			console.log(4)
//		}, 0);
//		console.log(5);
		
		setTimeout(function(){
			console.log(4)
			},0);
		new Promise(function(resolve){ 
			console.log(1) 
			for( var i=0 ; i<10000 ; i++ ){ 
				i==9999 && resolve() 
			} 
			console.log(2) 
		}).then(function(){
			console.log(5) 
		}); 
		console.log(3);

	</script>

</html>