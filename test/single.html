<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>单例模式</title>
	</head>

	<body>
	</body>
	<script>
		function Person(name) {
			this.name = name || '无名';
		}

		function createSingle(fn) {
			let _instance;
			return function() {
				return _instance || (_instance = fn.apply(this, arguments));
			}
		}
		

		const personSingle = createSingle(() => new Person("xiaoming"));
		const p1 = personSingle();
		const p2 = personSingle();

		alert(p1 === p2); // true
	</script>

</html>